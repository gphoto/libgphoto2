shared_module(
  'ptp2',
  'ptp.c',
  'ptp.h',
  'chdk_ptp.h',
  'chdk_live_view.h',
  'library.c',
  'usb.c',
  'ptp-bugs.h',
  'ptp-private.h',
  'ptpip.c',
  'config.c',
  'music-players.h',
  'device-flags.h',
  'olympus-wrap.c',
  'olympus-wrap.h',
  'chdk.c',
  'fujiptpip.c',
  'ptpip-private.h',
  'array.h',
  dependencies: [
    libgphoto2_dep,
    libxml_dep,
    libjpeg_dep,
    config_dep,
  ],
  name_prefix: '',
  install: true,
  install_dir: camlibs_dir,
)