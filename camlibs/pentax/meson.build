shared_module(
  'pentax',
  'library.c',
  'pslr.c',
  'pslr_enum.c',
  'pslr_log.c',
  'pslr_lens.c',
  'pslr_model.c',
  'pslr_utils.c',
  'pslr.h',
  'pslr_enum.h',
  'pslr_lens.h',
  'pslr_log.h',
  'pslr_model.h',
  'pslr_scsi.h',
  'pslr_utils.h',
  'js0n.c',
  'js0n.h',
  dependencies: [
    libgphoto2_dep,
    libxml_dep,
    libcurl_dep,
  ],
  c_args: [
    '-DLIBGPHOTO2',
    '-DPKTDATADIR="/"',
  ],
  name_prefix: '',
  install: true,
  install_dir: camlibs_dir,
)